

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../_static/favicon.png">
    
    
      
        <title>How to use LAMMPS on LiCO - LICO超算平台用户手册 Documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
    
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.3e5db3443ca180270.min.css?v=3ca437ca" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.816b127ff0841870e.min.css?v=70e9a60f" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.b08c53a0f8c6e5196.min.css?v=e98ce1bd" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.6f512e8eb71ac56e3.min.css?v=717ce592" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.87c7f0e03fe79f491.min.css?v=4fa7bd92" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.82e364787d143a39d.min.css?v=9234f7a4" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.d11af87c6ead18b14.min.css?v=756609ae" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.9b6c2ff1a533826ad.min.css?v=ccf8addb" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.125fd2da00e5aaa1b.min.css?v=ce2af11e" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.dc2674e1631210b01.min.css?v=04c32bab" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.b9849d3255d10934a.min.css?v=b2d749c0" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.ba8b963afae908264.min.css?v=caf3d898" />
        <link rel="stylesheet" type="text/css" href="../../_static/sphinx_immaterial_theme.87492c886bfdb51d4.min.css?v=121a93df" />
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="LICO超算平台用户手册 Documentation" class="md-header__button md-logo" aria-label="LICO超算平台用户手册 Documentation" data-md-component="logo">
      <img src="../../_static/logos.png" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LICO超算平台用户手册 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to use LAMMPS on LiCO
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://10.240.214.64/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    LiCO HPC Docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="LICO超算平台用户手册 Documentation" class="md-nav__button md-logo" aria-label="LICO超算平台用户手册 Documentation" data-md-component="logo">
      <img src="../../_static/logos.png" alt="logo">
    </a>
    LICO超算平台用户手册 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://10.240.214.64/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    LiCO HPC Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/index.html" class="md-nav__link">
        <span class="md-ellipsis">快速上手</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../studio/index.html" class="md-nav__link">
        <span class="md-ellipsis">可视化平台</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../job/index.html" class="md-nav__link">
        <span class="md-ellipsis">提交作业</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/index.html" class="md-nav__link">
        <span class="md-ellipsis">支持软件</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="how-to-use-lammps-on-lico">How to use LAMMPS on LiCO<a class="headerlink" href="#how-to-use-lammps-on-lico" title="Permalink to this heading">¶</a></h1>
<p class="linemarker linemarker-3">This guide will demonstrate how to use LAMMPS on LiCO</p>
<h2 id="lammps-usage-process">LAMMPS Usage Process<a class="headerlink" href="#lammps-usage-process" title="Permalink to this heading">¶</a></h2>
<h3 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-9"><img alt="lammps_workflow" src="../../_images/lammps_workflow.png" /></p>
<ul class="simple">
<li><p class="linemarker linemarker-12">Prepare LAMMPS and VMD Runtime: Build LAMMPS and VMD by EasyBuild and create the Runtime on LiCO for subsequent LAMMPS simulations and visualization of results.</p></li>
<li><p class="linemarker linemarker-13">Prepare LAMMPS input files: Configure simulation parameters, initial configurations, simulation duration, and output options based on the simulation requirements.</p></li>
<li><p class="linemarker linemarker-14">Run LAMMPS simulation: Conduct the simulation according to the defined input file and record simulation data.</p></li>
<li><p class="linemarker linemarker-15">Use VMD to view results: Visualize and examine simulation results, and make adjustments and analyses as needed.</p></li>
</ul>
<h2 id="prepare-lammps-and-vmd-runtime">Prepare LAMMPS and VMD Runtime<a class="headerlink" href="#prepare-lammps-and-vmd-runtime" title="Permalink to this heading">¶</a></h2>
<h3 id="prepare-the-easyconfig-file-required-by-easybuild-easybuild-is-already-installed">1.Prepare the easyconfig file required by EasyBuild (EasyBuild is already installed)<a class="headerlink" href="#prepare-the-easyconfig-file-required-by-easybuild-easybuild-is-already-installed" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-21">a. Query LAMMPS and VMD easyconfig files</p>
<p class="linemarker linemarker-23">​    Open the command line on LiCO and execute the following command:</p>
<p class="linemarker linemarker-25">​    Load EasyBuild: <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">EasyBuild</span></code></p>
<p class="linemarker linemarker-27">​    Search for available LAMMPS easyconfig files: <code class="docutils literal notranslate"><span class="pre">eb</span> <span class="pre">--search</span> <span class="pre">lammps</span></code></p>
<p class="linemarker linemarker-29">​    Search for available VMD easyconfig files: <code class="docutils literal notranslate"><span class="pre">eb</span> <span class="pre">--search</span> <span class="pre">vmd</span></code></p>
<p class="linemarker linemarker-31"><img alt="easybuild_easyconfig" src="../../_images/easybuild_easyconfig.png" /></p>
<p class="linemarker linemarker-33">b. Find the corresponding EasyBuild easyconfig files for the following LAMMPS and VMD versions</p>
<ul class="simple">
<li><p class="linemarker linemarker-35">Compile the CPU version of LAMMPS, please select：LAMMPS-23Jun2022-foss-2021b-kokkos.eb</p></li>
<li><p class="linemarker linemarker-36">Compile the GPU version of LAMMPS, please select：LAMMPS-23Jun2022-foss-2021b-kokkos-CUDA-11.4.1.eb</p></li>
<li><p class="linemarker linemarker-37">Compile the CPU version of VMD, please select：VMD-1.9.4a57-foss-2022a.eb</p></li>
<li><p class="linemarker linemarker-38">Compile the GPU version of VMD, please select：VMD-1.9.4a51-fosscuda-2020b.eb</p></li>
</ul>
<p class="linemarker linemarker-40">c. In your user working directory, copy the content of the required LAMMPS or VMD version’s corresponding easyconfig file to a newly created easyconfig file, or directly copy the easyconfig file to your user working directory.</p>
<h3 id="compile-software-using-easybuild-on-lico">2.Compile Software Using EasyBuild on LiCO<a class="headerlink" href="#compile-software-using-easybuild-on-lico" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-44"><strong>Admin → Softwares → EasyBuild → Provide an easyconfig file</strong></p>
<p class="linemarker linemarker-46">Open and log in LiCO, click on <strong>Softwares</strong> under the <strong>Admin</strong> menu, select <strong>EasyBuild</strong>.</p>
<p class="linemarker linemarker-48">Click on the <strong>Provide an easyconfig file</strong> option, choose the created easyconfig file, and click <strong>Next</strong>.</p>
<p class="linemarker linemarker-50"><img alt="easybuild_easybuild_file" src="../../_images/easybuild_easybuild_file.png" /></p>
<ul class="simple">
<li><p class="linemarker linemarker-52">Provide an easyconfig file: The easyconfig file for the software that EasyBuild is going to compile</p></li>
</ul>
<h3 id="specify-easybuild-compilation-options">3.Specify EasyBuild compilation options<a class="headerlink" href="#specify-easybuild-compilation-options" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-56"><img alt="buildlammps" src="../../_images/buildlammps.png" /></p>
<ul class="simple">
<li><p class="linemarker linemarker-58">Easybuild Building Options: Optional compilation parameters for EasyBuild</p></li>
</ul>
<p class="linemarker linemarker-60">For the compilation of the GPU versions of LAMMPS and VMD with EasyBuild, you need to specify the Easybuild Building Option: <code class="docutils literal notranslate"><span class="pre">--cuda-compute-capabilities</span></code>, and its value should be determined based on the GPU model. You can find the information at the following link: https://developer.nvidia.com/cuda-gpus#compute</p>
<h3 id="create-lammps-and-vmd-runtime-on-lico">4.Create LAMMPS and VMD Runtime on LiCO<a class="headerlink" href="#create-lammps-and-vmd-runtime-on-lico" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-64"><strong>Admin → Runtime ENV → Create</strong></p>
<p class="linemarker linemarker-66">After successfully compiling LAMMPS or VMD using EasyBuild, you can find the corresponding modules compiled with EasyBuild under the <strong>Runtime ENV</strong> menu on LiCO. Select the desired module and create the corresponding Runtime for use in subsequent job submissions：</p>
<p class="linemarker linemarker-68">Create LAMMPS CPU Runtime: <strong>LAMMPS_CPU_ENV</strong></p>
<p class="linemarker linemarker-70"><img alt="add_lammps_cpu" src="../../_images/add_lammps_cpu.png" /></p>
<p class="linemarker linemarker-72">Click on <strong>Add</strong> under <strong>Modules</strong>, then in the pop-up box, search for ‘LAMMPS’ and select the LAMMPS CPU version module: <strong>LAMMPS/23Jun2022-foss-2021b-kokkos</strong></p>
<p class="linemarker linemarker-74"><img alt="lammps_runtime" src="../../_images/lammps_runtime.png" /></p>
<p class="linemarker linemarker-76">Create LAMMPS GPU Runtime : <strong>LAMMPS_GPU_ENV</strong></p>
<p class="linemarker linemarker-78"><img alt="add_lammps_gpu" src="../../_images/add_lammps_gpu.png" /></p>
<p class="linemarker linemarker-80">Click on <strong>Add</strong> under <strong>Modules</strong>, then in the pop-up box, search for ‘LAMMPS’ and select the LAMMPS GPU version module: <strong>LAMMPS/23Jun2022-foss-2021b-kokkos-CUDA-11.4.1</strong></p>
<p class="linemarker linemarker-82"><img alt="lammps_gpu_runtime" src="../../_images/lammps_gpu_runtime.png" /></p>
<p class="linemarker linemarker-84">Create VMD  CPU Runtime : <strong>VMD_CPU_ENV</strong></p>
<p class="linemarker linemarker-86"><img alt="add_VMD_cpu" src="../../_images/add_VMD_cpu.png" /></p>
<p class="linemarker linemarker-88">Click on <strong>Add</strong> under <strong>Modules</strong>, then in the pop-up box, search for ‘VMD’ and select the VMD CPU version module: <strong>VMD/1.9.4a57-foss-2022a</strong></p>
<p class="linemarker linemarker-90"><img alt="vmd_cpu_runtime" src="../../_images/vmd_cpu_runtime.png" /></p>
<p class="linemarker linemarker-92">Create VMD  GPU Runtime : <strong>VMD_GPU_ENV</strong></p>
<p class="linemarker linemarker-94"><img alt="add_VMD_gpu" src="../../_images/add_VMD_gpu.png" /></p>
<p class="linemarker linemarker-96">Click on <strong>Add</strong> under <strong>Modules</strong>, then in the pop-up box, search for ‘VMD’ and select the VMD GPU version module: <strong>VMD/1.9.4a51-fosscuda-2020b</strong></p>
<p class="linemarker linemarker-98"><img alt="vmd_gpu_runtime" src="../../_images/vmd_gpu_runtime.png" /></p>
<p class="linemarker linemarker-100">(You can also click <strong>Add</strong> under <strong>Environments</strong> in LiCO <strong>Runtime ENV</strong> to add the necessary environment variables for your job, such as ‘OMP_NUM_THREADS’.)</p>
<h2 id="prepare-the-lammps-input-file">Prepare the LAMMPS input file<a class="headerlink" href="#prepare-the-lammps-input-file" title="Permalink to this heading">¶</a></h2>
<p class="linemarker linemarker-104">LAMMPS executes calculations by reading commands from an input script (a text file) one line at a time. When the input script is completed, LAMMPS exits. For syntax and tutorials related to writing LAMMPS input files, you can refer to: https://docs.lammps.org/Commands_input.html. Finally, place the LAMMPS input file or any possible dependency files in the LiCO user’s working directory.</p>
<h3 id="here-are-two-simple-examples-of-lammps-input-files">Here are two simple examples of LAMMPS input files：<a class="headerlink" href="#here-are-two-simple-examples-of-lammps-input-files" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-108"><strong>1.Example 01：</strong>
in.lj</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code># 3d Lennard-Jones melt

variable     x index 4
variable     y index 4
variable     z index 4

variable     xx equal 20*$x
variable     yy equal 20*$y
variable     zz equal 20*$z

units                lj
atom_style   atomic

lattice              fcc 0.8442
region               box block 0 ${xx} 0 ${yy} 0 ${zz}
create_box   1 box
create_atoms 1 box
mass         1 1.0

velocity     all create 1.44 87287 loop geom

pair_style   lj/cut 2.5
pair_coeff   1 1 1.0 1.0 2.5

neighbor     0.3 bin
neigh_modify delay 0 every 20 check no

fix          1 all nve

#run          100
dump 1 all custom 100 trajectory.lammpstrj id type x y z vx vy vz
dump_modify 1 sort id
run          100
undump 1
</code></pre></div>
</div>
<p class="linemarker linemarker-148"><strong>2.Example 02：</strong>
input.lammps</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># This LAMMPS input script simulates LJ particles in a 2D box</span>
<span class="c1"># Written by Simon Gravelle (https://simongravelle.github.io/)</span>
<span class="c1"># Find more scripts here: https://github.com/simongravelle/lammps-input-files</span>
<span class="c1"># LAMMPS tutorials for beginners: https://lammpstutorials.github.io/</span>

<span class="c1"># main parameters</span>
<span class="n">units</span> <span class="n">lj</span>
<span class="n">dimension</span> <span class="mi">2</span>
<span class="n">atom_style</span> <span class="n">atomic</span>
<span class="n">pair_style</span> <span class="n">lj</span><span class="o">/</span><span class="n">cut</span> <span class="mf">2.5</span>
<span class="n">boundary</span> <span class="n">p</span> <span class="n">p</span> <span class="n">p</span>

<span class="c1"># create system and insert atoms</span>
<span class="n">region</span> <span class="n">myreg</span> <span class="n">block</span> <span class="o">-</span><span class="mi">30</span> <span class="mi">30</span> <span class="o">-</span><span class="mi">30</span> <span class="mi">30</span> <span class="o">-</span><span class="mf">0.5</span> <span class="mf">0.5</span>
<span class="n">create_box</span> <span class="mi">2</span> <span class="n">myreg</span>
<span class="n">create_atoms</span> <span class="mi">1</span> <span class="n">random</span> <span class="mi">1500</span> <span class="mi">341341</span> <span class="n">myreg</span>
<span class="n">create_atoms</span> <span class="mi">2</span> <span class="n">random</span> <span class="mi">100</span> <span class="mi">127569</span> <span class="n">myreg</span>

<span class="n">include</span> <span class="n">parm</span><span class="o">.</span><span class="n">lammps</span>

<span class="c1"># minimisation</span>
<span class="n">minimize</span> <span class="mf">1.0e-4</span> <span class="mf">1.0e-6</span> <span class="mi">1000</span> <span class="mi">10000</span>
<span class="n">reset_timestep</span> <span class="mi">0</span>

<span class="c1"># dynamics</span>
<span class="n">fix</span> <span class="n">mynve</span> <span class="nb">all</span> <span class="n">nve</span>
<span class="n">fix</span> <span class="n">mylgv</span> <span class="nb">all</span> <span class="n">langevin</span> <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">0.1</span> <span class="mi">1530917</span>
<span class="n">fix</span> <span class="n">myefn</span> <span class="nb">all</span> <span class="n">enforce2d</span>
<span class="n">timestep</span> <span class="mf">0.005</span>

<span class="c1"># outputs</span>
<span class="n">thermo</span> <span class="mi">1000</span>
<span class="n">dump</span> <span class="n">mydmp</span> <span class="nb">all</span> <span class="n">atom</span> <span class="mi">1000</span> <span class="n">dump</span><span class="o">.</span><span class="n">lammpstrj</span>

<span class="c1"># run</span>
<span class="n">run</span> <span class="mi">500000</span>
</code></pre></div>
</div>
<p class="linemarker linemarker-189">parm.lammps</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># atom settings</span>
<span class="n">mass</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">mass</span> <span class="mi">2</span> <span class="mi">1</span>
<span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="n">pair_coeff</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mf">0.5</span> <span class="mf">3.0</span>
<span class="n">neigh_modify</span> <span class="n">every</span> <span class="mi">1</span> <span class="n">delay</span> <span class="mi">5</span> <span class="n">check</span> <span class="n">yes</span>
</code></pre></div>
</div>
<h2 id="run-the-lammps-simulation">Run the LAMMPS simulation<a class="headerlink" href="#run-the-lammps-simulation" title="Permalink to this heading">¶</a></h2>
<h3 id="run-the-lammps-simulation-using-cpu">1.Run the LAMMPS simulation using CPU<a class="headerlink" href="#run-the-lammps-simulation-using-cpu" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-205"><strong>Job Templates → LAMMPS</strong></p>
<p class="linemarker linemarker-207">Open and log in LiCO, select the <strong>LAMMPS</strong> template</p>
<h4 id="fill-in-the-template-parameters">Fill in the template parameters<a class="headerlink" href="#fill-in-the-template-parameters" title="Permalink to this heading">¶</a></h4>
<p class="linemarker linemarker-211"><img alt="lammps_job" src="../../_images/lammps_job.png" /></p>
<ul class="simple">
<li><p class="linemarker linemarker-213">Runtime ENV: LAMMPS CPU Runtime created through LiCO.</p></li>
<li><p class="linemarker linemarker-214">Workspace: The directory where the LAMMPS input file is located.</p></li>
<li><p class="linemarker linemarker-215">LAMMPS Input File: The provided LAMMPS input file.</p></li>
<li><p class="linemarker linemarker-216">MPI Run Arguments: mpirun parameters.</p></li>
<li><p class="linemarker linemarker-217">CPU Cores: The number of CPU cores to be used for job execution.</p></li>
</ul>
<h3 id="run-the-lammps-simulation-using-gpu">2.Run the LAMMPS simulation using GPU<a class="headerlink" href="#run-the-lammps-simulation-using-gpu" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-220"><strong>Job Templates → LAMMPS GPU</strong></p>
<p class="linemarker linemarker-222">Open and log in LiCO, select the <strong>LAMMPS GPU</strong> template</p>
<h4 id="id1">Fill in the template parameters<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p class="linemarker linemarker-226"><img alt="lammps_gpu_job" src="../../_images/lammps_gpu_job.png" /></p>
<ul class="simple">
<li><p class="linemarker linemarker-228">Runtime ENV: LAMMPS GPU Runtime ENV created through LiCO.</p></li>
<li><p class="linemarker linemarker-229">Workspace: The directory where the LAMMPS input file is located.</p></li>
<li><p class="linemarker linemarker-230">LAMMPS Input File: The provided LAMMPS input file.</p></li>
<li><p class="linemarker linemarker-231">MPI Run Arguments: mpirun parameters.</p></li>
<li><p class="linemarker linemarker-232">Nodes: Number of nodes.</p></li>
<li><p class="linemarker linemarker-233">CPU Cores Per Node: Number of CPU cores allocated per node, which will enable the same number of LAMMPS processes on each node for GPU usage.</p></li>
<li><p class="linemarker linemarker-234">GPU Per Node: Number of GPUs allocated per node.</p></li>
</ul>
<h3 id="submit-job">3.Submit job<a class="headerlink" href="#submit-job" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-238">Click <strong>Submit</strong> to submit the job. The LAMMPS job runs successfully, and you can view the job log</p>
<p class="linemarker linemarker-240"><img alt="lammps_job_log" src="../../_images/lammps_job_log.png" /></p>
<h3 id="check-if-the-result-files-exist">4.Check if the result files exist<a class="headerlink" href="#check-if-the-result-files-exist" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-244">When the job is completed, the job’s working directory will contain files similar to the following:</p>
<p class="linemarker linemarker-246"><img alt="lammps_result_dir" src="../../_images/lammps_result_dir.png" /></p>
<p class="linemarker linemarker-248">If you have used commands like “dump” in your LAMMPS input file to save simulation data, upon completion of the LAMMPS run, you will be able to see simulation result files with the “.lammpstrj” extension in the working directory.</p>
<h2 id="viewing-lammps-simulation-data">Viewing LAMMPS simulation data<a class="headerlink" href="#viewing-lammps-simulation-data" title="Permalink to this heading">¶</a></h2>
<p class="linemarker linemarker-252"><strong>Cloud Tools → TigerVNC</strong></p>
<h3 id="configure-tigervnc">1.Configure TigerVNC<a class="headerlink" href="#configure-tigervnc" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-256">Click the <strong>settings</strong> button on the <strong>TigerVNC</strong> page to open TigerVNC Settings, configure TigerVNC, and choose the VMD Runtime ENV previously created through LiCO</p>
<p class="linemarker linemarker-258"><img alt="VMD_settings" src="../../_images/VMD_settings.png" /></p>
<h3 id="start-tigervnc">2.Start TigerVNC<a class="headerlink" href="#start-tigervnc" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-262">After clicking <strong>Launch</strong> to start TigerVNC and successfully launching, enter the password to access the TigerVNC desktop. Within VNC, open the command line and enter the command <code class="docutils literal notranslate"><span class="pre">vmd</span> <span class="pre">/path/to/lammps_result_file</span></code> and press Enter. This will open the VMD program and load the specified LAMMPS simulation result file.</p>
<p class="linemarker linemarker-264"><img alt="vmd_open" src="../../_images/vmd_open.png" /></p>
<h3 id="view-and-analyze-the-lammps-simulation-result">3.View and analyze the LAMMPS simulation result<a class="headerlink" href="#view-and-analyze-the-lammps-simulation-result" title="Permalink to this heading">¶</a></h3>
<p class="linemarker linemarker-268">After opening the LAMMPS simulation result file in VMD, the following visualization window will be displayed.</p>
<p class="linemarker linemarker-270"><img alt="vmd_open_result" src="../../_images/vmd_open_result.png" /></p>
<p class="linemarker linemarker-272">Modify VMD configurations to adjust the result display for a more intuitive visualization of the simulation status.</p>
<p class="linemarker linemarker-274">In VMD, click on the menu <strong>Graphics</strong> → <strong>Representations</strong> to configure settings such as <strong>Drawing Method</strong> and <strong>Size</strong>, which can change the molecular simulation display mode for different visualization effects.</p>
<p class="linemarker linemarker-276"><img alt="vmd_show_settings" src="../../_images/vmd_show_settings.png" /></p>
<p class="linemarker linemarker-278">Click <strong>play forward</strong> in the bottom right corner of the VMD Main page to animate the LAMMPS simulation results dynamically.</p>
<p class="linemarker linemarker-280"><img alt="vmd_paly_forward" src="../../_images/vmd_paly_forward.png" /></p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p class="linemarker linemarker-288">Failure to download dependencies during EasyBuild software compilation due to the inability to connect to the external network:</p>
<p class="linemarker linemarker-290"><img alt="easybuild_error01_log" src="../../_images/easybuild_error01_log.png" /></p>
<p class="linemarker linemarker-292"><strong>Solution</strong>: Ensure that the EasyBuild environment can connect to the external network, or manually download the missing dependencies and place them in the location specified in the EasyBuild compilation log.</p>
</li>
<li><p class="linemarker linemarker-294">When compiling the VMD-1.9.4a57-foss-2022a with EasyBuild, it fails to download Perl-related extensions:</p>
<p class="linemarker linemarker-296"><strong>Solution</strong>: Go to https://www.cpan.org/src/ search for relevant extension packages, manually download and upload them to the path displayed in the compilation log where the extension package needs to be stored.</p>
</li>
<li><p class="linemarker linemarker-298">When compiling the VMD-1.9.4a57-foss-2022a with EasyBuild, it fails to download the <code class="docutils literal notranslate"><span class="pre">pixman-0.40.0.tar.gz</span></code> dependency:</p>
<p class="linemarker linemarker-300"><strong>Solution</strong>: Go to https://www.linuxfromscratch.org/blfs/view/10.1-systemd/general/pixman.html, manually download <code class="docutils literal notranslate"><span class="pre">pixman-0.40.0.tar.gz</span></code>, and upload it to the path displayed in the compilation log where the dependent package needs to be stored.</p>
</li>
<li><p class="linemarker linemarker-302">When compiling the VMD-1.9.4a51-fosscuda-2020b with EasyBuild, the <code class="docutils literal notranslate"><span class="pre">libltdl</span></code> library is missing:</p>
<p class="linemarker linemarker-304"><strong>Error Message</strong>: “libltdl is required for modules and OpenCL builds”</p>
<p class="linemarker linemarker-306"><strong>Solution</strong>: Run <code class="docutils literal notranslate"><span class="pre">yum</span> <span class="pre">install</span> <span class="pre">-y</span> <span class="pre">libtool-ltdl-devel</span></code> to install the <code class="docutils literal notranslate"><span class="pre">libltdl</span></code> development package.</p>
</li>
<li><p class="linemarker linemarker-308">When compiling the VMD-1.9.4a51-fosscuda-2020b with EasyBuild, the download of <code class="docutils literal notranslate"><span class="pre">NVIDIA-OptiX-SDK-6.5.0-linux64.sh</span></code> fails:</p>
<p class="linemarker linemarker-310"><strong>Solution</strong>: Log in to https://developer.nvidia.com/designworks/optix/downloads/legacy, manually download <code class="docutils literal notranslate"><span class="pre">NVIDIA-OptiX-SDK-6.5.0-linux64.sh</span></code>, and upload it to the path displayed in the compilation log where the file needs to be stored.</p>
</li>
</ol>






                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2023, houys2.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.1.2.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
        <script src="../../_static/sphinx_immaterial_theme.1b5b7a2d5891aec19.min.js?v=1e7b0789"></script>
    
  </body>
</html>